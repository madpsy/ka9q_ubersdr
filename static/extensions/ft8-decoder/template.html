<div class="decoder-extension-header">
    <h3>FT8 Decoder</h3>
    <span id="ft8-status-badge" class="decoder-status-badge decoder-inactive">Inactive</span>
</div>

<div class="decoder-extension-body">
    <!-- Signal Strength Indicator -->
    <div class="decoder-signal-container">
        <label>Signal Strength:</label>
        <div class="decoder-signal-bar-container">
            <div id="ft8-signal-bar" class="decoder-signal-bar"></div>
        </div>
    </div>

    <!-- FT8 Status Information -->
    <div class="stats-card">
        <h4>Decoder Status</h4>
        <div class="stats-grid">
            <div class="stats-item">
                <span class="stats-label">Time Slot:</span>
                <span id="ft8-time-slot" class="stats-value">--</span>
            </div>
            <div class="stats-item">
                <span class="stats-label">Sync Status:</span>
                <span id="ft8-sync-status" class="stats-value">Searching</span>
            </div>
            <div class="stats-item">
                <span class="stats-label">Signals Detected:</span>
                <span id="ft8-signals-detected" class="stats-value">0</span>
            </div>
            <div class="stats-item">
                <span class="stats-label">Decodes:</span>
                <span id="ft8-decode-count" class="stats-value">0</span>
            </div>
        </div>
    </div>

    <!-- Waterfall Display -->
    <div class="stats-card">
        <h4>Signal Activity</h4>
        <div id="ft8-waterfall" style="height: 100px; background: #1a1a1a; border-radius: 4px; position: relative; overflow: hidden;">
            <canvas id="ft8-waterfall-canvas" style="width: 100%; height: 100%;"></canvas>
        </div>
        <div style="display: flex; justify-content: space-between; margin-top: 4px; font-size: 0.85em; color: #95a5a6;">
            <span id="ft8-waterfall-low">200 Hz</span>
            <span>FT8 Band</span>
            <span id="ft8-waterfall-high">3200 Hz</span>
        </div>
    </div>

    <!-- Decoded Messages Display -->
    <div class="decoder-output-container">
        <div class="decoder-output-header">
            <label>Decoded Messages:</label>
            <div class="decoder-output-controls">
                <button class="decoder-btn" onclick="window.decoderManager.getDecoder('ft8-decoder').clearText()">Clear</button>
                <button class="decoder-btn" onclick="window.decoderManager.getDecoder('ft8-decoder').copyText()">Copy</button>
            </div>
        </div>
        <pre id="ft8-decoded-text" class="decoder-output"></pre>
    </div>

    <!-- Debug Information -->
    <div class="stats-card" style="margin-top: 12px;">
        <h4>Debug Info</h4>
        <div class="stats-grid">
            <div class="stats-item">
                <span class="stats-label">FFT Bins:</span>
                <span id="ft8-fft-bins" class="stats-value">--</span>
            </div>
            <div class="stats-item">
                <span class="stats-label">Sample Rate:</span>
                <span id="ft8-sample-rate" class="stats-value">--</span>
            </div>
            <div class="stats-item">
                <span class="stats-label">Buffer Size:</span>
                <span id="ft8-buffer-size" class="stats-value">--</span>
            </div>
            <div class="stats-item">
                <span class="stats-label">Processing Time:</span>
                <span id="ft8-process-time" class="stats-value">-- ms</span>
            </div>
            <div class="stats-item">
                <span class="stats-label">Symbol Buffer:</span>
                <span id="ft8-symbol-buffer" class="stats-value">0/79</span>
            </div>
            <div class="stats-item">
                <span class="stats-label">Demod Mode:</span>
                <span id="ft8-demod-mode" class="stats-value">--</span>
            </div>
        </div>
    </div>

    <!-- Debug Log -->
    <div class="stats-card" style="margin-top: 12px;">
        <div class="decoder-output-header">
            <h4>Debug Log</h4>
            <div class="decoder-output-controls">
                <button id="ft8-debug-pause-btn" class="decoder-btn" onclick="window.decoderManager.getDecoder('ft8-decoder').toggleDebugPause()">Pause</button>
                <button class="decoder-btn" onclick="window.decoderManager.getDecoder('ft8-decoder').copyDebugLog()">Copy</button>
                <button class="decoder-btn" onclick="window.decoderManager.getDecoder('ft8-decoder').clearDebugLog()">Clear</button>
            </div>
        </div>
        <pre id="ft8-debug-log" style="max-height: 150px; overflow-y: auto; font-size: 0.85em; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; color: #95a5a6;"></pre>
    </div>
</div>